<!DOCTYPE html>
<html>
  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <link href='https://fonts.googleapis.com/css?family=Chivo:900' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/pygment_trac.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="stylesheets/print.css" media="print" />
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <title>JBoss Developer maven-qstools-plugin by jboss-developer</title>
  </head>

  <body>
    <div id="container">
      <div class="inner">

        <header>
          <h1>JBoss Developer maven-qstools-plugin</h1>
          <h2>Utility belt for jboss developer materials</h2>
        </header>

        <section id="downloads" class="clearfix">
          <a href="https://github.com/jboss-developer/maven-qstools-plugin/zipball/master" id="download-zip" class="button"><span>Download .zip</span></a>
          <a href="https://github.com/jboss-developer/maven-qstools-plugin/tarball/master" id="download-tar-gz" class="button"><span>Download .tar.gz</span></a>
          <a href="https://github.com/jboss-developer/maven-qstools-plugin" id="view-on-github" class="button"><span>View on GitHub</span></a>
        </section>

        <hr>

        <section id="main_content">
          <h1>
<a name="quickstarts-tools-maven-plugin" class="anchor" href="#quickstarts-tools-maven-plugin"><span class="octicon octicon-link"></span></a>Quickstarts tools maven plugin</h1>

<p>Author: Rafael Benevides
Summary: Maven plugin that helps JBoss Developer materials maintenance</p>

<h2>
<a name="what-is-it" class="anchor" href="#what-is-it"><span class="octicon octicon-link"></span></a>What is it?</h2>

<p>This a Maven Plugin that helps JBoss Developer materials maintenance.</p>

<p>You can use it to verify if your project/quickstart follow the JBoss Developer Guidelines. It will run all JBoss Developer Guideline checkers and generate a report that provides information about any violations that your project/quickstarts has.</p>

<p>For Maven BOMs,it can be used to verify if your Maven BOM has all dependencies being resolved.</p>

<p>You can also use QSTools to synchronize an Maven Archetype with and existing project.</p>

<h2>
<a name="system-requirements" class="anchor" href="#system-requirements"><span class="octicon octicon-link"></span></a>System requirements</h2>

<p>All you need is <a href="http://maven.apache.org/">Apache Maven 3.0.X</a> and a working internet connection.</p>

<h2>
<a name="checking-the-quickstarts-made-easy" class="anchor" href="#checking-the-quickstarts-made-easy"><span class="octicon octicon-link"></span></a>Checking the quickstarts made easy</h2>

<p>Select a Maven project and run:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:check
</code></pre>

<p>This will check your project and all modules to seek for potential violations.</p>

<p>The report will be generated at: <code>MAVEN_PROJECT/target/site/qschecker.html</code></p>

<h3>
<a name="configuring-qstools-checkers" class="anchor" href="#configuring-qstools-checkers"><span class="octicon octicon-link"></span></a>Configuring QSTools Checkers</h3>

<p>QSTools configuration is made by editing the online file <a href="https://raw.github.com/jboss-developer/maven-qstools-plugin/master/config/qstools_config.yaml">https://raw.github.com/jboss-developer/maven-qstools-plugin/master/config/qstools_config.yaml</a></p>

<p>You can use a local config file by overwriting qstools property:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:check
     -Dqstools.configFileURL=file:///Users/rafaelbenevides/path/qstools_config.yaml
</code></pre>

<h3>
<a name="using-a-custom-stacksyaml-definition" class="anchor" href="#using-a-custom-stacksyaml-definition"><span class="octicon octicon-link"></span></a>Using a custom stacks.yaml definition</h3>

<p><a href="https://github.com/jboss-jdf/jdf-stack">Stacks</a> is used to check the BOM versions used on you project.</p>

<p>If you need to use a custom Stacks.yaml definition you can overwrite the stacks url adding the property <code>qstools.stacks.url</code> to the command line:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:check
   -Dqstools.stacks.url=file:/somewhere/on/your/disk/stacks.yaml
</code></pre>

<p>or</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:(check)
   -Dqstools.stacks.url=http://www.somewhere.net/somepath/stacks.yaml
</code></pre>

<h2>
<a name="automatically-fixing-the-quickstarts" class="anchor" href="#automatically-fixing-the-quickstarts"><span class="octicon octicon-link"></span></a>Automatically fixing the quickstarts</h2>

<p>QSTools can fix most of the violations.</p>

<p>You can run:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:fix
</code></pre>

<p><code>NOTE:</code> It's high recommended that you have your changes saved before running this plugin because it modifies your pom files.</p>

<h2>
<a name="if-you-need-to-update-quickstarts-boms" class="anchor" href="#if-you-need-to-update-quickstarts-boms"><span class="octicon octicon-link"></span></a>If you need to update quickstarts BOMs</h2>

<p>This goal will check the <a href="https://github.com/jboss-developer/maven-qstools-plugin/blob/master/config/qstools_config.yaml#L24">Expected BOM Version</a>  and update the BOM versions to the expected version.</p>

<p>It will also replace any community BOMs by the Product BOMs if it is specified under <code>project-boms-migration</code> sections of <a href="https://github.com/jboss-developer/maven-qstools-plugin/blob/master/config/qstools_config.yaml">QSTools configuration file</a></p>

<p><code>NOTE:</code> It's high recommended that you have your changes saved before running this plugin because it modifies your pom files.</p>

<p>To run the plugin:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:updateBoms
</code></pre>

<h2>
<a name="checking-the-bom-dependencies" class="anchor" href="#checking-the-bom-dependencies"><span class="octicon octicon-link"></span></a>Checking the BOM dependencies</h2>

<p>This goal will check the given BOM project if all declared dependencies under  section is resolvable.</p>

<p>To run the plugin: </p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:bom-check
</code></pre>

<p>If you need to ignore certain known dependencies from being checked, you can use the <code>qstools.bom-check.ignoredDependencies</code> property.</p>

<p>Example:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:bom-check 
   -Dqstools.bom-check.ignoredDependencies=&lt;groupId 1&gt;:&lt;artifactId 1&gt;:jar:&lt;version 1&gt;,&lt;groupId 2&gt;:&lt;artifactId 2&gt;:jar:&lt;version 2&gt;
</code></pre>

<p>By default, the project build will fail if some managed dependenciy is not resolvable. You can overwrite this behavior by using <code>qstools.bom-check.failbuild</code> property.
This will run on <code>REPORT ONLY</code> mode.</p>

<p>Example:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:bom-check 
   -Dqstools.bom-check.failbuild=false
</code></pre>

<p>To specify a custom settings.xml file you must use <code>org.apache.maven.user-settings</code> property. This is because <a href="https://github.com/shrinkwrap/resolver#resolution-of-artifacts-specified-by-maven-coordinates">Shrinkwrap Resolver</a> doesn't consume settings.xml you specified on command line (-s settings.xml) or in the IDE. It reads settings.xml files at their standard locations, which are <code>~/.m2/settings.xml</code> and <code>$M2_HOME/conf/settings.xml</code> unless overridden in the API or via System property.</p>

<p>Example:</p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:bom-check 
   -Dorg.apache.maven.user-settings=&lt;your custom settings.xml&gt;
</code></pre>

<h2>
<a name="syncronizing-archetypes-with-quickstarts" class="anchor" href="#syncronizing-archetypes-with-quickstarts"><span class="octicon octicon-link"></span></a>Syncronizing Archetypes with Quickstarts</h2>

<p>QSTools can be used on archetype to synchronize the archetype-resources with a given project</p>

<p>This is an example of configuration:</p>

<pre><code>    &lt;plugins&gt;
        &lt;plugin&gt;
            &lt;groupId&gt;org.jboss.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-qstools-plugin&lt;/artifactId&gt;
            &lt;version&gt;1.3.3-SNAPSHOT&lt;/version&gt;
            &lt;configuration&gt;
                &lt;projectGitRepo&gt;git://github.com/jboss-developer/jboss-eap-quickstarts.git&lt;/projectGitRepo&gt;
                &lt;projectPath&gt;kitchensink-ear&lt;/projectPath&gt;
                &lt;rootPackage&gt;org.jboss.as.quickstarts.kitchensink_ear&lt;/rootPackage&gt;
                &lt;multiModuleProject&gt;true&lt;/multiModuleProject&gt;
                &lt;applyPatch&gt;A-patch-file.patch&lt;/applyPatch&gt;
                &lt;branch&gt;jdf-2.1.7.Final&lt;/branch&gt;
                &lt;archetypeExpressionReplaceValues&gt;
                    &lt;archetypeExpressionReplaceValue&gt;jboss-as-kitchensink-ear&lt;/archetypeExpressionReplaceValue&gt;
                    &lt;archetypeExpressionReplaceValue&gt;kitchensink-ear-quickstart&lt;/archetypeExpressionReplaceValue&gt;
                    &lt;archetypeExpressionReplaceValue&gt;kitchensink-quickstart&lt;/archetypeExpressionReplaceValue&gt;
                    &lt;archetypeExpressionReplaceValue&gt;KitchensinkEarQuickstart&lt;/archetypeExpressionReplaceValue&gt;
                    &lt;archetypeExpressionReplaceValue&gt;JBoss EAP Quickstart: kitchensink-ear&lt;/archetypeExpressionReplaceValue&gt;
                &lt;/archetypeExpressionReplaceValues&gt;
                &lt;replaceValueWithExpression&gt;
                    &lt;html5mobi&gt;tableSuffix&lt;/html5mobi&gt;
                &lt;/replaceValueWithExpression&gt;
            &lt;/configuration&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;phase&gt;generate-sources&lt;/phase&gt;
                    &lt;goals&gt;
                        &lt;goal&gt;archetypeSync&lt;/goal&gt;
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
</code></pre>

<p>The <code>archetypeExpressionReplaceValues</code> configuration is used to replace the given expression to the `${artifactId} expression.</p>

<h2>
<a name="plugin-documentation" class="anchor" href="#plugin-documentation"><span class="octicon octicon-link"></span></a>Plugin Documentation</h2>

<p>The plugin documentation <em>generated from mvn site</em> <a href="target/site/plugin-info.html">is available here</a> </p>

<h2>
<a name="troubleshooting" class="anchor" href="#troubleshooting"><span class="octicon octicon-link"></span></a>Troubleshooting</h2>

<p>You can turn on debugging messages:   </p>

<pre><code>mvn -U org.jboss.maven.plugins:maven-qstools-plugin:check -X
</code></pre>
        </section>

        <footer>
          JBoss Developer maven-qstools-plugin is maintained by <a href="https://github.com/jboss-developer">jboss-developer</a><br>
          This page was generated by <a href="http://pages.github.com">GitHub Pages</a>. Tactile theme by <a href="https://twitter.com/jasonlong">Jason Long</a>.
        </footer>

        
      </div>
    </div>
  </body>
</html>